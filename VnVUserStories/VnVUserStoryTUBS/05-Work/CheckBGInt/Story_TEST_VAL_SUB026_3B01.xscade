<?xml version="1.0" encoding="UTF-8"?>
<Operator xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2" kind="function" name="Story_TEST_VAL_SUB026_3B01">
	<inputs>
		<Variable name="TrainPos">
			<type>
				<NamedType>
					<type>
						<TypeRef name="real"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf1c/6BAB/BF4/558d50bd2483"/>
			</pragmas>
		</Variable>
	</inputs>
	<outputs>
		<Variable name="BM">
			<type>
				<NamedType>
					<type>
						<TypeRef name="TM::CompressedBaliseMessage"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf1b/6BAB/BF4/558d50bd3b61"/>
			</pragmas>
		</Variable>
	</outputs>
	<locals>
		<Variable name="_L36">
			<type>
				<NamedType>
					<type>
						<TypeRef name="TM::CompressedBaliseMessage"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf17/6BAB/BF4/558d50bdb39"/>
			</pragmas>
		</Variable>
		<Variable name="_L33">
			<type>
				<NamedType>
					<type>
						<TypeRef name="real"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf18/6BAB/BF4/558d50bd673e"/>
			</pragmas>
		</Variable>
		<Variable name="_L49">
			<type>
				<NamedType>
					<type>
						<TypeRef name="TM::CompressedBaliseMessage"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf19/6BAB/BF4/558d50bd2a46"/>
			</pragmas>
		</Variable>
		<Variable name="_L50">
			<type>
				<NamedType>
					<type>
						<TypeRef name="TM::CompressedBaliseMessage"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fcf1a/6BAB/BF4/558d50bd1755"/>
			</pragmas>
		</Variable>
		<Variable name="_L51">
			<type>
				<NamedType>
					<type>
						<TypeRef name="TM::CompressedBaliseMessage"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/fd0de/6BAB/BF4/558d51242fe5"/>
			</pragmas>
		</Variable>
	</locals>
	<data>
		<!-- _L33 = TrainPos; -->
		<Equation>
			<lefts>
				<VariableRef name="_L33"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="TrainPos"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fcf11/6BAB/BF4/558d50bd34e8"/>
			</pragmas>
		</Equation>
		<!-- _L36 = TM::DEFAULT_BTMMessage; -->
		<Equation>
			<lefts>
				<VariableRef name="_L36"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="TM::DEFAULT_BTMMessage"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fcf12/6BAB/BF4/558d50bd5161"/>
			</pragmas>
		</Equation>
		<!-- BM = _L51; -->
		<Equation>
			<lefts>
				<VariableRef name="BM"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L51"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fcf13/6BAB/BF4/558d50bde5"/>
			</pragmas>
		</Equation>
		<!-- _L49 = Test_Track_Elements::Test_Balises::Test_BG021_100_8BT(_L36, _L33, Test_Tra... -->
		<Equation>
			<lefts>
				<VariableRef name="_L49"/>
			</lefts>
			<right>
				<!-- Test_Track_Elements::Test_Balises::Test_BG021_100_8BT(_L36, _L33, Test_Track_Elem... -->
				<CallExpression>
					<operator>
						<OpCall name="1">
							<operator>
								<OperatorRef name="Test_Track_Elements::Test_Balises::Test_BG021_100_8BT"/>
							</operator>
						</OpCall>
					</operator>
					<callParameters>
						<IdExpression>
							<path>
								<ConstVarRef name="_L36"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L33"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="Test_Track_Elements::Test_Balises::test_BG021_100"/>
							</path>
						</IdExpression>
					</callParameters>
				</CallExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fcf14/6BAB/BF4/558d50bd747b" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
					<comment>BG containing a single balise (N_TOTAL = 0, N_PIG = 0) with P72 - Plain text message</comment>
				</ed:Equation>
			</pragmas>
		</Equation>
		<!-- _L50 = Test_Track_Elements::Test_Balises::Test_BG022_200_8BT(_L49, _L33, Test_Tra... -->
		<Equation>
			<lefts>
				<VariableRef name="_L50"/>
			</lefts>
			<right>
				<!-- Test_Track_Elements::Test_Balises::Test_BG022_200_8BT(_L49, _L33, Test_Track_Elem... -->
				<CallExpression>
					<operator>
						<OpCall name="1">
							<operator>
								<OperatorRef name="Test_Track_Elements::Test_Balises::Test_BG022_200_8BT"/>
							</operator>
						</OpCall>
					</operator>
					<callParameters>
						<IdExpression>
							<path>
								<ConstVarRef name="_L49"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L33"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="Test_Track_Elements::Test_Balises::test_BG022_200"/>
							</path>
						</IdExpression>
					</callParameters>
				</CallExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fcf15/6BAB/BF4/558d50bd2087" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
					<comment>pass BG containing 8 balises : (N_TOTAL = 7, N_PIG = {0,...,7})</comment>
					<comment>&#x9;       0. P12 - MA</comment>
					<comment>&#x9;       1. P21 - GP</comment>
					<comment>&#x9;       2. P27 - SSP</comment>
					<comment>&#x9;       3. P80 - MP-OS</comment>
					<comment>&#x9;       4. P41 - LTO L2 (now)</comment>
					<comment>&#x9;       5. P68 - TC (Air tightness)</comment>
					<comment>&#x9;       6. P70 - Route Suit. Data (Max. Axle Load &lt; Train Axle Load)</comment>
					<comment>&#x9;       7. P72 - Plain text message</comment>
				</ed:Equation>
			</pragmas>
		</Equation>
		<!-- _L51 = Test_Track_Elements::Test_Balises::Test_BG023_300_8BT(_L50, _L33, Test_Tra... -->
		<Equation>
			<lefts>
				<VariableRef name="_L51"/>
			</lefts>
			<right>
				<!-- Test_Track_Elements::Test_Balises::Test_BG023_300_8BT(_L50, _L33, Test_Track_Elem... -->
				<CallExpression>
					<operator>
						<OpCall name="1">
							<operator>
								<OperatorRef name="Test_Track_Elements::Test_Balises::Test_BG023_300_8BT"/>
							</operator>
						</OpCall>
					</operator>
					<callParameters>
						<IdExpression>
							<path>
								<ConstVarRef name="_L50"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L33"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="Test_Track_Elements::Test_Balises::test_BG023_300"/>
							</path>
						</IdExpression>
					</callParameters>
				</CallExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/fd0dd/6BAB/BF4/558d512444ff"/>
			</pragmas>
		</Equation>
	</data>
	<pragmas>
		<ed:Operator oid="!ed/fcf10/6BAB/BF4/558d50bd59a6" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
			<comment>#TEST-VAL-SUB026-3B01#REF#</comment>
			<comment> Balise Nr.1 ist location reference</comment>
			<comment></comment>
			<comment>Precondition   : Start in L1/SR</comment>
			<comment>Stimulation 1:&#x9; Überfahren einer 8er-BG in Nominalrichtung mit Textmeldung in 8.Balise</comment>
			<comment>Reaction 1:&#x9; Textmeldung wird angezeigt, wobei sich D_TEXTDISPLAY auf die Balise Nr.1 (erste Balise) bezieht;</comment>
			<comment>&#x9;       Anzeige des Textes wird im JRU aufgezeichnet</comment>
			<comment>Stimulation 2:&#x9; Überfahren einer 8er-BG in Reverserichtung mit Textmeldung in 1.Balise</comment>
			<comment>Reaction 2:&#x9; Textmeldung wird angezeigt, wobei sich D_TEXTDISPLAY auf die Balise Nr.1 (achte Balise) bezieht;</comment>
			<comment>Stimulation 3:&#x9; Überfahren einer 8er-BG in Nominalrichtung mit Textmeldung in 8.Balise,</comment>
			<comment>&#x9;       wobei D_TEXTDISPLAY kleiner ist als der Abstand zwischen 1. und 8. Balise</comment>
			<comment>Reaction 3:&#x9; Textmeldung wird sofort angezeigt;</comment>
			<comment>Stimulation 4:&#x9; Überfahren einer 8er-BG in Nominalrichtung mit MA in 1.Balise und Profiles in 8.Balise,</comment>
			<comment>Reaction 4:&#x9; Wechsel nach FS</comment>
			<comment>Stimulation 5:&#x9; Fahren bis an das Ende der MA</comment>
			<comment>Reaction 5:&#x9; Die Referenz für das Ende der MA ist die Balise Nr.1 der 8er-BG aus Stimulation 4</comment>
			<diagrams>
				<NetDiagram name="diagram_Story_TEST_VAL_SUB026_3B01_1" landscape="true" format="A4 (210 297)" oid="!ed/fcf16/6BAB/BF4/558d50bd2071">
					<presentationElements>
						<EquationGE presentable="!ed/fcf11/6BAB/BF4/558d50bd34e8">
							<position>
								<Point x="5080" y="3678"/>
							</position>
							<size>
								<Size width="265" height="502"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/fcf12/6BAB/BF4/558d50bd5161">
							<position>
								<Point x="7726" y="2725"/>
							</position>
							<size>
								<Size width="212" height="318"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/fcf13/6BAB/BF4/558d50bde5">
							<position>
								<Point x="28813" y="19526"/>
							</position>
							<size>
								<Size width="318" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/fcf14/6BAB/BF4/558d50bd747b">
							<position>
								<Point x="9763" y="3228"/>
							</position>
							<size>
								<Size width="13139" height="1419"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/fcf15/6BAB/BF4/558d50bd2087">
							<position>
								<Point x="9763" y="8414"/>
							</position>
							<size>
								<Size width="13139" height="1418"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/fcf11/6BAB/BF4/558d50bd34e8" dstEquation="!ed/fcf14/6BAB/BF4/558d50bd747b">
							<positions>
								<Point x="5345" y="3942"/>
								<Point x="7541" y="3942"/>
								<Point x="7541" y="4180"/>
								<Point x="9763" y="4180"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/fcf12/6BAB/BF4/558d50bd5161" dstEquation="!ed/fcf14/6BAB/BF4/558d50bd747b">
							<positions>
								<Point x="7938" y="2884"/>
								<Point x="8837" y="2884"/>
								<Point x="8837" y="3704"/>
								<Point x="9763" y="3704"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/fcf11/6BAB/BF4/558d50bd34e8" dstEquation="!ed/fcf15/6BAB/BF4/558d50bd2087">
							<positions>
								<Point x="5345" y="3942"/>
								<Point x="7541" y="3942"/>
								<Point x="7541" y="9366"/>
								<Point x="9763" y="9366"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/fcf14/6BAB/BF4/558d50bd747b" dstEquation="!ed/fcf15/6BAB/BF4/558d50bd2087">
							<positions>
								<Point x="22913" y="3942"/>
								<Point x="24209" y="3942"/>
								<Point x="24209" y="6403"/>
								<Point x="8440" y="6403"/>
								<Point x="8440" y="8890"/>
								<Point x="9763" y="8890"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/fd0dd/6BAB/BF4/558d512444ff">
							<position>
								<Point x="9763" y="11404"/>
							</position>
							<size>
								<Size width="13166" height="1444"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/fcf11/6BAB/BF4/558d50bd34e8" dstEquation="!ed/fd0dd/6BAB/BF4/558d512444ff">
							<positions>
								<Point x="5345" y="3942"/>
								<Point x="7541" y="3942"/>
								<Point x="7541" y="12383"/>
								<Point x="9763" y="12383"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/fcf15/6BAB/BF4/558d50bd2087" dstEquation="!ed/fd0dd/6BAB/BF4/558d512444ff">
							<positions>
								<Point x="22913" y="9128"/>
								<Point x="24236" y="9128"/>
								<Point x="24236" y="10504"/>
								<Point x="8440" y="10504"/>
								<Point x="8440" y="11880"/>
								<Point x="9763" y="11880"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/fd0dd/6BAB/BF4/558d512444ff" dstEquation="!ed/fcf13/6BAB/BF4/558d50bde5">
							<positions>
								<Point x="22939" y="12144"/>
								<Point x="25876" y="12144"/>
								<Point x="25876" y="19791"/>
								<Point x="28866" y="19791"/>
							</positions>
						</Edge>
					</presentationElements>
				</NetDiagram>
			</diagrams>
		</ed:Operator>
	</pragmas>
</Operator>
